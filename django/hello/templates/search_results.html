{% extends "base.html" %}


{% block title %}Search Result{% endblock %}

{% block content %}


    <p></p>



   <table class="dataupn table_sort" rules="colgroup" border="1">
          <!-- <colgroup span="27">
            <col span="1" width="35">
            <col span="1" width="40"> -->
           <!--  <col span="4" width="165"> --> <!-- style="background-color: #FAFAD2;"> -->
           <!--  <col span="2" width="110" style="background-color: #3CB371">
            <col span="2" width="150">
            <col span="1" width="50">
            <col span="1" width="145">
            <col span="7" width="55"> -->
            <!-- dgk contact -->
            <!-- <col span="1" width="300" style="background-color: #8FBC8F">  
            <col span="1" width="55">
 -->            <!-- primary contact -->
            <!-- <col span="1" width="300" style="background-color: #8FBC8F">
            <col span="3" width="55"> -->
            <!-- NOTES -->
            <!-- <col span="1" width="400">
            <col span="1" width="400">
          </colgroup> -->
          <thead class="dataupn_title">   
            <tr>
            <th></th>
            <th>№ з/п</th>
            <th>Region</th>
            <th>Name_UA</th>
            <th>Name_EN</th>
            <th>КодКОАТУУ</th>
            <th>Y</th>
            <th>X</th>
            <th>Статус_нп_за_адмін_поділом</th>
            <th>DistrictCenterOld</th>
            <th>meteo</th>
            <th>status</th>
            <th>Норвезький_проект</th>
            <th>grounding</th>
            <th>site_report</th>
            <th>reconaissance_report</th>
            <th>cabinet</th>
            <th>statusid</th>
            <th>dgk</th>
            <th>dgk_contact</th>
            <th>agreement</th>
            <th>primary_contact</th>
            <th>rigc_ready</th>
            <th>sitechange</th>
            <th>installationstatus</th>
            <th>notes</th>
            </tr>
          </thead>
          <tbody>
            {% for data_search in object_list %}
            <tr>
              <td>{% if perms.firstapp %}<a class="edit_button" href="/edit/{{data_search.id}}">Edit</a>{% endif %}</td>
              <td>{{ data_search.number }}</h4></td>
              <td>{{ data_search.region }}</td>
              <td>{{ data_search.nameua }}</td>
              <td>{{ data_search.nameen }}</td>
              <td>{{ data_search.coatuu_code }}</td>
              <td style="background-color: #3CB371">{{ data_search.y }}</td>
              <td style="background-color: #3CB371">{{ data_search.x }}</td>
              <td>{{ data_search.status_np_za_admin_podil }}</td>
              <td>{{ data_search.districtce }}</td>
              <td>{{ data_search.meteo }}</td>
              <td>{{ data_search.status }}</td>
              <td>{{ data_search.norway_project }}</td>
              <td>{{ data_search.grounding }}</td>
              <td>{{ data_search.site_repor }}</td>
              <td>{{ data_search.reconaissa }}</td>
              <td>{{ data_search.cabinet }}</td>
              <td>{{ data_search.statusid }}</td>
              <td>{{ data_search.dgk }}</td>
              <td style="background-color: #8FBC8F">{{ data_search.dgk_contac }}</td>
              <td>{{ data_search.agreement }}</td>
              <td style="background-color: #8FBC8F">{{ data_search.primary_co }}</td>
              <td>{{ data_search.rigc_ready }}</td>
              <td>{{ data_search.sitechange }}</td>
              <td>{{ data_search.installati }}</td>
              <td>{{ data_search.notes }}</td>
            </tr>
            {% endfor %}
          </tbody>
        </table>



        <script type="text/javascript">


    // <!-- Сортировка таблицы по колонкам!!! -->


    document.addEventListener('DOMContentLoaded', () => {

    const getSort = ({ target }) => {
        const order = (target.dataset.order = -(target.dataset.order || -1));
        const index = [...target.parentNode.cells].indexOf(target);
        const collator = new Intl.Collator(['en', 'ru'], { numeric: true });
        const comparator = (index, order) => (a, b) => order * collator.compare(
            a.children[index].innerHTML,
            b.children[index].innerHTML
        );
        
        for(const tBody of target.closest('table').tBodies)
            tBody.append(...[...tBody.rows].sort(comparator(index, order)));

        for(const cell of target.parentNode.cells)
            cell.classList.toggle('sorted', cell === target);
    };
    
    document.querySelectorAll('.table_sort thead').forEach(tableTH => tableTH.addEventListener('click', () => getSort(event)));
    
});


     $(document).ready(function() {
            $('#btnHide').click(function() {
                $('th:nth-child(2), td:nth-child(2),th:nth-child(3), td:nth-child(3), th:nth-child(5), td:nth-child(5), th:nth-child(6), td:nth-child(6), th:nth-child(7), td:nth-child(7), th:nth-child(8), td:nth-child(8), th:nth-child(10), td:nth-child(10), th:nth-child(11), td:nth-child(11), th:nth-child(12), td:nth-child(12), th:nth-child(15), td:nth-child(15), th:nth-child(16), td:nth-child(16), th:nth-child(17), td:nth-child(17), th:nth-child(19), td:nth-child(19), th:nth-child(21), td:nth-child(21), th:nth-child(23), td:nth-child(23), th:nth-child(24), td:nth-child(24), th:nth-child(25), td:nth-child(25)').hide();
                // if your table has header(th), use this
                //$('td:nth-child(2),th:nth-child(2)').hide();
            });
        });


     $(document).ready(function() {
            $('#btnShow').click(function() {
                $('th:nth-child(2), td:nth-child(2),th:nth-child(3), td:nth-child(3), th:nth-child(5), td:nth-child(5), th:nth-child(6), td:nth-child(6), th:nth-child(7), td:nth-child(7), th:nth-child(8), td:nth-child(8), th:nth-child(10), td:nth-child(10), th:nth-child(11), td:nth-child(11), th:nth-child(12), td:nth-child(12), th:nth-child(15), td:nth-child(15), th:nth-child(16), td:nth-child(16), th:nth-child(17), td:nth-child(17), th:nth-child(19), td:nth-child(19), th:nth-child(21), td:nth-child(21), th:nth-child(23), td:nth-child(23), th:nth-child(24), td:nth-child(24), th:nth-child(25), td:nth-child(25)').show();
                // if your table has header(th), use this
                //$('td:nth-child(2),th:nth-child(2)').hide();
            });
        });



    //  $(document).ready(function() {
    //     $('#bootstrapdatatable').DataTable({     
    //       "aLengthMenu": [[5, 10, 25, -1], [5, 10, 25, "All"]],
    //         "iDisplayLength": -1
    //        } 
    //     );
    // } );


    
    /* When the user clicks on the button,
    toggle between hiding and showing the dropdown content */
    function myFunction() {
        document.getElementById("myDropdown").classList.toggle("show");
    }

    // Close the dropdown menu if the user clicks outside of it
    window.onclick = function(event) {
      if (!event.target.matches('.dropbtn')) {

        var dropdowns = document.getElementsByClassName("dropdown-content");
        var i;
        for (i = 0; i < dropdowns.length; i++) {
          var openDropdown = dropdowns[i];
          if (openDropdown.classList.contains('show')) {
            openDropdown.classList.remove('show');
          }
        }
      }
    }



  </script>


{% endblock %}